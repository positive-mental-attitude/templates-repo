# /backstage-templates/atlas-cluster/skeleton/atlas-deployment-skeleton.yaml
apiVersion: atlas.mongodb.com/v1
kind: AtlasDeployment
metadata:
  name: ${{ parameters.clusterName }}
  namespace: mongodb-atlas-operator # Or make this a parameter
  labels:
    environment: ${{ parameters.environment }}
    owner: ${{ user.entity.metadata.name }}
spec:
  projectName: ${{ parameters.atlasProjectName }} # Assumes project already exists
  deploymentSpec:
    name: ${{ parameters.clusterName }}
    providerSettings:
      instanceSizeName: ${{ parameters.instanceSizeName }} # e.g., M10, M20
      providerName: ${{ parameters.providerName }} # e.g., AWS, GCP, AZURE
      regionName: ${{ parameters.regionName }}
  # Add other necessary spec fields like backup, BI connector, etc.